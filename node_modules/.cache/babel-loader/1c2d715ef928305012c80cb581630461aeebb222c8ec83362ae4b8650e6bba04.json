{"ast":null,"code":"// gameActions.js\nimport { mockApi } from \"../../utils/mockApi\";\nexport const getBoard = gameId => async dispatch => {\n  try {\n    const playerPromise = await mockApi.getPlayer(gameId);\n    const monsterPromise = await mockApi.getMonster(gameId);\n    const gamePromise = await mockApi.getGame(gameId);\n    const playerCardPromise = await mockApi.getPlayerCards(playerPromise.data.id);\n    const game = gamePromise.data;\n    const player = playerPromise.data;\n    const monster = monsterPromise.data;\n    const playerCards = playerCardPromise.data;\n    dispatch({\n      type: \"GAME_DATA\",\n      payload: {\n        gameInfo: game,\n        playerInfo: player,\n        monsterInfo: monster,\n        playerCards: playerCards\n      }\n    });\n  } catch (error) {\n    console.log(error.message);\n  }\n};\nexport const nextTurn = (cardId, gameId) => async dispatch => {\n  try {\n    const res = await mockApi.nextTurn(gameId, cardId);\n    dispatch({\n      type: \"MONSTER_EFFECT\",\n      payload: res.data.monsterEffect\n    });\n    dispatch(getBoard(res.data.game.id));\n  } catch (e) {\n    console.log(e.message);\n  }\n};\nexport const NewGame = name => async dispatch => {\n  try {\n    const res = await mockApi.newGame(name);\n    dispatch(getBoard(res.data.id));\n  } catch (e) {\n    console.log(e.message);\n  }\n};","map":{"version":3,"names":["mockApi","getBoard","gameId","dispatch","playerPromise","getPlayer","monsterPromise","getMonster","gamePromise","getGame","playerCardPromise","getPlayerCards","data","id","game","player","monster","playerCards","type","payload","gameInfo","playerInfo","monsterInfo","error","console","log","message","nextTurn","cardId","res","monsterEffect","e","NewGame","name","newGame"],"sources":["/Users/eri/adventureTime/src/store/actions/index.js"],"sourcesContent":["// gameActions.js\nimport { mockApi } from \"../../utils/mockApi\";\n\nexport const getBoard = (gameId) => async (dispatch) => {\n  try {\n    const playerPromise = await mockApi.getPlayer(gameId);\n    const monsterPromise = await mockApi.getMonster(gameId);\n    const gamePromise = await mockApi.getGame(gameId);\n    const playerCardPromise = await mockApi.getPlayerCards(playerPromise.data.id);\n\n    const game = gamePromise.data;\n    const player = playerPromise.data;\n    const monster = monsterPromise.data;\n    const playerCards = playerCardPromise.data;\n\n    dispatch({\n      type: \"GAME_DATA\",\n      payload: {\n        gameInfo: game,\n        playerInfo: player,\n        monsterInfo: monster,\n        playerCards: playerCards,\n      },\n    });\n  } catch (error) {\n    console.log(error.message);\n  }\n};\n\nexport const nextTurn = (cardId, gameId) => async (dispatch) => {\n  try {\n    const res = await mockApi.nextTurn(gameId, cardId);\n\n    dispatch({ type: \"MONSTER_EFFECT\", payload: res.data.monsterEffect });\n    dispatch(getBoard(res.data.game.id));\n  } catch (e) {\n    console.log(e.message);\n  }\n};\n\nexport const NewGame = (name) => async (dispatch) => {\n  try {\n    const res = await mockApi.newGame(name);\n    dispatch(getBoard(res.data.id));\n  } catch (e) {\n    console.log(e.message);\n  }\n};\n"],"mappings":"AAAA;AACA,SAASA,OAAO,QAAQ,qBAAqB;AAE7C,OAAO,MAAMC,QAAQ,GAAIC,MAAM,IAAK,MAAOC,QAAQ,IAAK;EACtD,IAAI;IACF,MAAMC,aAAa,GAAG,MAAMJ,OAAO,CAACK,SAAS,CAACH,MAAM,CAAC;IACrD,MAAMI,cAAc,GAAG,MAAMN,OAAO,CAACO,UAAU,CAACL,MAAM,CAAC;IACvD,MAAMM,WAAW,GAAG,MAAMR,OAAO,CAACS,OAAO,CAACP,MAAM,CAAC;IACjD,MAAMQ,iBAAiB,GAAG,MAAMV,OAAO,CAACW,cAAc,CAACP,aAAa,CAACQ,IAAI,CAACC,EAAE,CAAC;IAE7E,MAAMC,IAAI,GAAGN,WAAW,CAACI,IAAI;IAC7B,MAAMG,MAAM,GAAGX,aAAa,CAACQ,IAAI;IACjC,MAAMI,OAAO,GAAGV,cAAc,CAACM,IAAI;IACnC,MAAMK,WAAW,GAAGP,iBAAiB,CAACE,IAAI;IAE1CT,QAAQ,CAAC;MACPe,IAAI,EAAE,WAAW;MACjBC,OAAO,EAAE;QACPC,QAAQ,EAAEN,IAAI;QACdO,UAAU,EAAEN,MAAM;QAClBO,WAAW,EAAEN,OAAO;QACpBC,WAAW,EAAEA;MACf;IACF,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOM,KAAK,EAAE;IACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAACG,OAAO,CAAC;EAC5B;AACF,CAAC;AAED,OAAO,MAAMC,QAAQ,GAAGA,CAACC,MAAM,EAAE1B,MAAM,KAAK,MAAOC,QAAQ,IAAK;EAC9D,IAAI;IACF,MAAM0B,GAAG,GAAG,MAAM7B,OAAO,CAAC2B,QAAQ,CAACzB,MAAM,EAAE0B,MAAM,CAAC;IAElDzB,QAAQ,CAAC;MAAEe,IAAI,EAAE,gBAAgB;MAAEC,OAAO,EAAEU,GAAG,CAACjB,IAAI,CAACkB;IAAc,CAAC,CAAC;IACrE3B,QAAQ,CAACF,QAAQ,CAAC4B,GAAG,CAACjB,IAAI,CAACE,IAAI,CAACD,EAAE,CAAC,CAAC;EACtC,CAAC,CAAC,OAAOkB,CAAC,EAAE;IACVP,OAAO,CAACC,GAAG,CAACM,CAAC,CAACL,OAAO,CAAC;EACxB;AACF,CAAC;AAED,OAAO,MAAMM,OAAO,GAAIC,IAAI,IAAK,MAAO9B,QAAQ,IAAK;EACnD,IAAI;IACF,MAAM0B,GAAG,GAAG,MAAM7B,OAAO,CAACkC,OAAO,CAACD,IAAI,CAAC;IACvC9B,QAAQ,CAACF,QAAQ,CAAC4B,GAAG,CAACjB,IAAI,CAACC,EAAE,CAAC,CAAC;EACjC,CAAC,CAAC,OAAOkB,CAAC,EAAE;IACVP,OAAO,CAACC,GAAG,CAACM,CAAC,CAACL,OAAO,CAAC;EACxB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}